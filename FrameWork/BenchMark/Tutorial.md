### 压测相关
压测类型
1、压力测试， 系统最大负载。
2、并发测试，模拟多个用户同一时刻访问系统。
3、耐久性测试，长时间运行。 

压测之前需要做的事情：
1、明确你的目的，需要做什么压测、压测的目标是什么？
百万级别的 websocket , https://github.com/link1st/gowebsocket。 
2、


压测名词：
1、并发、并行 QPS (qeury per second) 、TPS、请求成功数目、请求失败数、错误率、最大响应时间、最小响应时间、平均响应时间

机器性能指标
1、CPU 利用率
2、内存使用率
3、IO （Disk input/output) 磁盘的读写包速率
4、网卡负载 ( Network Load) 网卡的进出带宽，包量

如何计算压测指标？
1、公式: ( 总PV数*80% ) / ( 每天的秒数*20% ) = 峰值时间每秒钟请求数(QPS)
举个例子。 
1、# 使用ab压测工具，对百度的链接 请求100次，并发数1
ab -n 100 -c 1 https://www.baidu.com/
2、locust python 开发的压测工具🔧，有图形化界面。 
–	需要编写压测脚本
–	需要自己启动压测
3、JMeter Java 开发的工具🔧
4、云压测
1、云压测是一款商业产品

压测前准备
一、配置参数
/proc/sys/fs/file-max 表示系统级别的能够打开的文件句柄的数量，不能小于limits中设置的值
二、计算压测所需要的客户端机器数量。 
1、如果需要100W长连接，每台机器有 65535-1024 个端口， 100W / (65535-1024) ≈ 15.5，所以这里需要16台服务器。 

压测中。
1、记录从 1w 到 100w 连接内存使用情况
2、cat /proc/pid/status , 查看内存详细数据。

二、相关函数。
