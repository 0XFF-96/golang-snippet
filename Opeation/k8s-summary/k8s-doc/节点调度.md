### k8s 节点调度

1、在 API-Server 接收客户端提交 Pod 对象场景请求后的操作过程，其中一个重要步骤就是 由调度程序 kube-scheduler 从当前集群中选择一个可用的最佳节点来接收并运行它。 通常默认的调度器 （default-scheduler), 有三个过程， 预选、优选和选定三个步骤。 这是 k8s 系统的核心任务。

2、核心目标是基于资源可用性， 将各个 Pod 资源公平地分布于集群节点之上。 节点预选 (Predicate) 、节点优先级排序 (Priority) 及节点择优 (Select)   3、特殊资源和特殊偏好， 通过组合节点标签、Pod 标签或者标签选择器来激活特定的预选场景，以完成高级调度。 如， MatchInterPodAffinity、MatchNodeSelector 和 PodToleratesNodeTaints 

4、常见的预选策略有哪些？ 预选策略就是节点过滤器。   5、优选函数， 筛选并生成一个节点列表后，进入第二阶段的优选过程。 在这个过程，调度器向每个通过预选的阶段传递一系列的优选函数 （ BalancedResourceAllocation 和 TaintTolerationPriority ）来计算其优先级分值。 

6、节点亲和调度， 调度程序用来确定 Pod 对象调度， 这些规则基于节点上的自定义标签和 Pod 对象上指定的标签选择器进行定义。 有两种类型： 硬亲和性 和 软亲和性 。 
7、Pod 资源亲和性调度， 需要把一些 Pod 对象组织在相近的位置（ 同一节点、机架、区域或者地区等）。硬 （required) 、软 ( preferred ) 两种。 会影响新建的 Pod 资源，还是旧的资源？

8、污点 （ taints ) 是定义在节点之上的键值属性数据，用于让节点拒绝 Pod 调度运行于其上。 
容忍度 （ tolerations ) 是定义在 Pod 对象上的键值型属性数据，用于配置其可容忍的节点污点，而且调度器仅能将 Pod 对象调度至其能容忍该节点污点的节点上。 
与亲和性相比， 节点亲和性使得 Pod 对象被吸引到一类特定的节点，而污点则相反， 它提供来让节点排斥特定 Pod 对象的能力。 

9、管理节点的污点，   kubectl taint nodes 

