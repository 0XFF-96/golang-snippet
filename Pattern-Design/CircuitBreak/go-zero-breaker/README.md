### 熔断 
1. 有请求来了，首先 allowRequest() 函数判断是否在熔断中，如果不是则放行，如果是的 话，还要看有没有到达一个熔断时间片，
如果熔断时间片到了，也放行，否则直接返回 出错。
2. 每次调用都有两个函数 markSuccess(duration) 和 markFailure(duration) 
来统计一下 在一定的 duration 内有多少调用是成功还是失败的。
3. 判断是否熔断的条件 isOpen()，是计算一下 failure/(success+failure) 当前的错误率， 
如果高于一个阈值，那么打开熔断，否则关闭。
4. Hystrix 会在内存中维护一个数组，其中记录着每一个周期的请求结果的统计。超过时长 长度的元素会被删除掉

### 熔断设计的重点
错误的类型，日志监控， 测试服务是否可用，手动重置， 并发问题， 资源分区， 重试错误。 